(this["webpackJsonpreact-redux-tech-test"]=this["webpackJsonpreact-redux-tech-test"]||[]).push([[0],{73:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),s=r(16),a=r.n(s),o=r(3),i=r(14),l=r(4),u=r(18),d=r(12),j=r(84),b="FETCH_USERS_REQUEST",p="FETCH_USERS_SUCCESS",O="FETCH_USERS_FAILURE",h=function(){return function(e){return e(f()),fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){e(g(t))})).catch((function(t){e(x(t.message))}))}},f=function(){return{type:b}},g=function(e){return{type:p,payload:e}},x=function(e){return{type:O,payload:e}},y=(r(52),"FETCH_POSTS_REQUEST"),m="FETCH_POSTS_SUCCESS",S="FETCH_POSTS_FAILURE",v=function(){return{type:y}},F=function(e){return{type:m,payload:e}},C=function(e){return{type:S,payload:e}},T=r(2),E=[{Header:"Id",Footer:"Id",accessor:"id",disableFilters:!0,textAlign:"left"},{Header:"Name",Footer:"Name",accessor:"name",disableSortBy:!0,Cell:function(e){return Object(T.jsx)("div",{style:{textAlign:"left"},children:e.value})}},{Header:"Email",Footer:"Email",accessor:"email",disableFilters:!0},{Header:function(){return Object(T.jsx)("div",{style:{textAlign:"right"},children:"City"})},Footer:"City",accessor:"address.city",disableFilters:!0,disableSortBy:!0,Cell:function(e){return Object(T.jsx)("div",{style:{textAlign:"right"},children:e.value})}},{Header:function(){return Object(T.jsx)("div",{style:{textAlign:"right"},children:"Company"})},Footer:"Company",accessor:"company.name",disableFilters:!0,disableSortBy:!0,Cell:function(e){return Object(T.jsx)("div",{style:{textAlign:"right"},children:e.value})}}],H=r(37),P=function(e){var t=e.column,r=t.filterValue,c=t.setFilter,s=Object(n.useState)(r),a=Object(H.a)(s,2),o=a[0],i=a[1],l=Object(d.useAsyncDebounce)((function(e){c(e||void 0)}),500);return Object(T.jsxs)("span",{children:["Search:"," ",Object(T.jsx)("input",{className:"column-search",value:o||"",onChange:function(e){i(e.target.value),l(e.target.value)}})]})},B=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)();Object(n.useEffect)((function(){t(h())}),[]);var r=Object(l.f)(),s=c.a.useMemo((function(){return{Filter:P}}),[]),a=Object(d.useTable)({columns:E,data:e.users,defaultColumn:s},d.useFilters,d.useSortBy),u=a.getTableProps,b=a.getTableBodyProps,p=a.headerGroups,O=a.rows,f=a.prepareRow;return Object(T.jsx)("div",{className:"userWrapper",children:0===e.users.length?Object(T.jsx)(j.a,{}):Object(T.jsxs)("table",Object(o.a)(Object(o.a)({},u()),{},{"data-testid":"userTable",children:[Object(T.jsx)("thead",{children:p.map((function(e){return Object(T.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(T.jsxs)("th",Object(o.a)(Object(o.a)({"text-align":e.textAlign},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(T.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(T.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),Object(T.jsx)("tbody",Object(o.a)(Object(o.a)({},b()),{},{children:O.map((function(e){return f(e),Object(T.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{onClick:function(){return function(e){r.push("/posts/".concat(e.original.id))}(e)},children:e.cells.map((function(e){return Object(T.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})},R=[{Header:"Title",Footer:"Title",accessor:"title",disableFilters:!0,Cell:function(e){return Object(T.jsx)("div",{style:{textAlign:"left"},children:e.value})}},{Header:"Body",Footer:"Body",accessor:"body",disableFilters:!0}],_=function(){var e=Object(l.g)().userId,t=Object(i.c)((function(e){return e})),r=Object(i.b)();Object(n.useEffect)((function(){r(h())}),[]),Object(n.useEffect)((function(){r(function(e){return function(t){return t(v()),fetch("https://jsonplaceholder.typicode.com/posts?userId=".concat(e)).then((function(e){return e.json()})).then((function(e){t(F(e))})).catch((function(e){t(C(e.message))}))}}(e))}),[]);var s=t.user.users.find((function(t){return t.id==e})),a=c.a.useMemo((function(){return{Filter:P}}),[]),u=Object(d.useTable)({columns:R,data:t.post.posts,defaultColumn:a},d.useFilters,d.useSortBy),b=u.getTableProps,p=u.getTableBodyProps,O=u.headerGroups,f=u.rows,g=u.prepareRow;return Object(T.jsxs)("div",{className:"postWrapper",children:[0!==t.user.users.length?Object(T.jsxs)("div",{className:"postHeader",children:[s.name,"'s Posts"]}):null,0===t.post.posts.length?Object(T.jsx)(j.a,{}):Object(T.jsxs)("table",Object(o.a)(Object(o.a)({},b()),{},{"data-testid":"postTable",children:[Object(T.jsx)("thead",{children:O.map((function(e){return Object(T.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(T.jsxs)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(T.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(T.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),Object(T.jsx)("tbody",Object(o.a)(Object(o.a)({},p()),{},{children:f.map((function(e){return g(e),Object(T.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(T.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})},w=r(13),A=r(35),U=r(36),I={loading:!1,users:[],error:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case p:return{loading:!1,users:t.payload,error:""};case O:return{loading:!1,users:[],error:t.payload};default:return e}},D={loading:!1,posts:[],error:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case m:return{loading:!1,posts:t.payload,error:""};case S:return{loading:!1,posts:[],error:t.payload};default:return e}},k=Object(w.combineReducers)({user:N,post:G}),M=Object(w.createStore)(k,Object(A.composeWithDevTools)(Object(w.applyMiddleware)(U.a))),W=(r(73),Object(l.h)((function(){return Object(T.jsx)(i.a,{store:M,children:Object(T.jsxs)(l.c,{children:[Object(T.jsx)(l.a,{path:"/",exact:!0,component:B}),Object(T.jsx)(l.a,{path:"/posts/:userId",exact:!0,component:_})]})})}))),J=function(e){return Object(T.jsx)(u.a,{children:Object(T.jsx)(W,Object(o.a)({},e))})};a.a.render(Object(T.jsx)(J,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.8ede8a58.chunk.js.map